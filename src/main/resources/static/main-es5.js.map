{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/addcompany/addcompany.component.ts","webpack:///src/app/components/addcompany/addcompany.component.html","webpack:///src/app/components/addcoupon/addcoupon.component.ts","webpack:///src/app/components/addcoupon/addcoupon.component.html","webpack:///src/app/components/addcustomer/addcustomer.component.ts","webpack:///src/app/components/addcustomer/addcustomer.component.html","webpack:///src/app/components/adminhome/adminhome.component.ts","webpack:///src/app/components/adminhome/adminhome.component.html","webpack:///src/app/components/allcompanies/allcompanies.component.ts","webpack:///src/app/components/allcompanies/allcompanies.component.html","webpack:///src/app/components/allcustomers/allcustomers.component.ts","webpack:///src/app/components/allcustomers/allcustomers.component.html","webpack:///src/app/components/companyhome/companyhome.component.ts","webpack:///src/app/components/companyhome/companyhome.component.html","webpack:///src/app/components/companyprofile/companyprofile.component.ts","webpack:///src/app/components/companyprofile/companyprofile.component.html","webpack:///src/app/components/coupon/coupon.component.ts","webpack:///src/app/components/coupon/coupon.component.html","webpack:///src/app/components/couponbycategory/couponbycategory.component.ts","webpack:///src/app/components/couponbycategory/couponbycategory.component.html","webpack:///src/app/components/customerhome/customerhome.component.ts","webpack:///src/app/components/customerhome/customerhome.component.html","webpack:///src/app/components/customerprofile/customerprofile.component.ts","webpack:///src/app/components/customerprofile/customerprofile.component.html","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/loading/loading.component.ts","webpack:///src/app/components/loading/loading.component.html","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/minicoupon/minicoupon.component.ts","webpack:///src/app/components/minicoupon/minicoupon.component.html","webpack:///src/app/components/myprofile/myprofile.component.ts","webpack:///src/app/components/myprofile/myprofile.component.html","webpack:///src/app/components/navbar/navbar.component.ts","webpack:///src/app/components/navbar/navbar.component.html","webpack:///src/app/components/pagenotfound/pagenotfound.component.ts","webpack:///src/app/components/pagenotfound/pagenotfound.component.html","webpack:///src/app/components/signup/signup.component.ts","webpack:///src/app/models/category.enum.ts","webpack:///src/app/models/company.ts","webpack:///src/app/models/coupon.ts","webpack:///src/app/models/customer.ts","webpack:///src/app/services/admin.service.ts","webpack:///src/app/services/category.guard.ts","webpack:///src/app/services/client-type.enum.ts","webpack:///src/app/services/company.service.ts","webpack:///src/app/services/customer.service.ts","webpack:///src/app/services/login.service.ts","webpack:///src/app/services/loginguard.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","canActivate","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","AddcompanyComponent","fb","adminService","snackBar","dialog","company","visibility","type","newCompany","group","value","disabled","name","required","email","password","confirmp","validatePasswordsMatch","setValue","_id","_name","_email","_password","disable","updateCompany","addCompany","deleteCompany","subscribe","success","console","log","snackRef","open","onAction","close","error","errorMessage","status","enable","control","parent","get","confirmPassword","passwordsMatchError","controls","showPassword","saveCompany","AddcouponComponent","companyService","coupon","header","disableDelete","possibleCategories","Object","values","filter","category","isNaN","getCompanyDetails","companyId","getCompany","newCoupon","description","startDate","validateStartDate","endDate","validateEndDate","amount","min","price","image","_title","_category","_description","_startDate","_endDate","_originalAmount","_price","_image","markAsTouched","Date","today","touched","updateValueAndValidity","getTime","invalidStartDate","invalidEndDate","updateCoupon","addCoupon","deleteCoupon","saveCoupon","AddcustomerComponent","customer","newCustomer","fname","lname","_firstName","_lastName","passwordMatchError","updateCustomer","addCustomer","deleteCustomer","saveCustomer","AdminhomeComponent","AllcompaniesComponent","displayedColumns","getAllCompanies","companies","getCompanies","dataSource","sort","paginator","config","autoFocus","disableClose","width","data","dialogRef","afterClosed","result","ngOnInit","search","trim","toLowerCase","filterSearch","AllcustomersComponent","getAllCustomers","customers","getCustomers","CompanyhomeComponent","CompanyprofileComponent","searchOption","coupons","getCoupons","_coupons","filterPredicate","toString","indexOf","some","element","getAllClients","clients","client","c","length","createCoupon","clearSearch","CouponComponent","activeRoute","customerService","router","loginService","disableBuyButton","recentlyViewedCoupons","couponId","snapshot","params","getCouponById","updateRecentlyViewed","getCoupon","setInterval","countDown","remainingTime","getCustomersByCoupon","otherCustomers","otherCustomersCoupons","map","reduce","acc","curr","concat","filterDuplicates","sharedCoupon","sortByBought","slice","navigateByUrl","showRecentlyViewed","ids","getRecentlyViewed","forEach","push","purchaseCoupon","every","coup","a","b","_bought","newCoupons","Array","newCouponsId","includes","now","timeLeftMillis","timeLeftSeconds","Math","floor","timeLeftHours","timeLeftMinutes","CouponbycategoryComponent","text","Food","elec","categoryName","getAllCouponsByCategory","couponsTemp","customersTemp","count","Suggestion","CustomerhomeComponent","numbers","autoComplete","categories","limitedTimeCoupons","topPicksCoupons","topPicksQualifier","optionsB","getAllCoupons","electricityCoupons","foodCoupons","spaCoupons","petsCoupons","tourismCoupons","furnitureCoupons","fashionCoupons","limitedTime","sortByLimitedTime","searchListener","CustomerprofileComponent","getCustomerDetails","getCustomer","duration","HomeComponent","LoadingComponent","LoginComponent","clientTypes","prop","loginForm","clientType","login","MinicouponComponent","imgPlaceHolder","boughtBy","MyprofileComponent","NavbarComponent","t","Administrator","position","left","top","PagenotfoundComponent","SignupComponent","Category","Company","obj","assign","Coupon","originalAmount","currentAmount","bought","Customer","firstName","lastName","AdminService","token","post","responseType","providedIn","CategoryGuard","next","state","enteredCategory","validCategories","ClientType","CompanyService","CustomerService","LoginService","authenticated","recentlyViewdIds","Set","loggedin","JSON","parse","localStorage","getItem","setItem","stringify","size","temp","shift","add","saveRecentlyViewed","sessionStorage","hasOwnProperty","LoginguardService","route","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { SignupComponent } from './components/signup/signup.component';\r\nimport { LoginguardService } from './services/loginguard.service';\r\nimport { AllcompaniesComponent } from './components/allcompanies/allcompanies.component';\r\nimport { AllcustomersComponent } from './components/allcustomers/allcustomers.component';\r\nimport { MyprofileComponent } from './components/myprofile/myprofile.component';\r\nimport { CustomerprofileComponent } from './components/customerprofile/customerprofile.component';\r\nimport { CompanyprofileComponent } from './components/companyprofile/companyprofile.component';\r\nimport { CouponComponent } from './components/coupon/coupon.component';\r\nimport { PagenotfoundComponent } from './components/pagenotfound/pagenotfound.component';\r\nimport { LoadingComponent } from './components/loading/loading.component';\r\nimport { CouponbycategoryComponent } from './components/couponbycategory/couponbycategory.component';\r\nimport { CategoryGuard } from './services/category.guard';\r\n\r\n\r\nconst routes: Routes = [\r\n  {path: \"\", redirectTo:\"home\",pathMatch:\"full\",canActivate : [LoginguardService]},\r\n  {path: \"home\", component: HomeComponent, canActivate : [LoginguardService]},\r\n  {path: \"login\", component: LoginComponent},\r\n  {path: \"all-companies\", component:AllcompaniesComponent, canActivate: [LoginguardService]},\r\n  {path: \"all-customers\", component:AllcustomersComponent, canActivate: [LoginguardService]},\r\n  {path: \"customer-profile\", component:CustomerprofileComponent, canActivate: [LoginguardService]},\r\n  {path: \"company-profile\", component:CompanyprofileComponent, canActivate: [LoginguardService]},\r\n  {path: \"loading/:id\", component: LoadingComponent, canActivate: [LoginguardService]},\r\n  {path: \"coupon/:id\", component: CouponComponent, canActivate: [LoginguardService]},\r\n  {path: \"category/:category\",component:CouponbycategoryComponent, canActivate: [LoginguardService,CategoryGuard]},\r\n  { path: \"not-found\" , component:PagenotfoundComponent},\r\n  {path: \"**\", component:PagenotfoundComponent },\r\n  \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'CouponsV3';\r\n}\r\n","<div class=\"container\">\r\n  <nav>\r\n    <app-navbar></app-navbar>\r\n  </nav>\r\n  <main>\r\n    <router-outlet></router-outlet>\r\n  </main>\r\n</div>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\n\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { NavbarComponent } from './components/navbar/navbar.component';\r\nimport { SignupComponent } from './components/signup/signup.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\nimport { ReactiveFormsModule, FormsModule } from \"@angular/forms\";\r\n\r\nimport { MatToolbarModule } from \"@angular/material/toolbar\";\r\nimport { MatButtonModule } from \"@angular/material/button\";\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\r\nimport { MatInputModule } from \"@angular/material/input\";\r\nimport { MatSelectModule } from \"@angular/material/select\";\r\nimport { MatSnackBarModule } from \"@angular/material/snack-bar\";\r\nimport { MatDialogModule } from \"@angular/material/dialog\";\r\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\r\nimport { MatMenuModule } from \"@angular/material/menu\";\r\nimport { MatTableModule } from \"@angular/material/table\";\r\nimport { MatSortModule } from \"@angular/material/sort\";\r\nimport { MatPaginatorModule } from \"@angular/material/paginator\"\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport { MatAutocompleteModule } from \"@angular/material/autocomplete\";\r\n\r\n\r\nimport { AllcompaniesComponent } from './components/allcompanies/allcompanies.component';\r\nimport { AllcustomersComponent } from './components/allcustomers/allcustomers.component';\r\nimport { AddcompanyComponent } from './components/addcompany/addcompany.component';\r\nimport { AddcustomerComponent } from './components/addcustomer/addcustomer.component';\r\nimport { MyprofileComponent } from './components/myprofile/myprofile.component';\r\nimport { CustomerprofileComponent } from './components/customerprofile/customerprofile.component';\r\nimport { CompanyprofileComponent } from './components/companyprofile/companyprofile.component';\r\nimport { AddcouponComponent } from './components/addcoupon/addcoupon.component';\r\nimport { CustomerhomeComponent } from './components/customerhome/customerhome.component';\r\nimport { CompanyhomeComponent } from './components/companyhome/companyhome.component';\r\nimport { AdminhomeComponent } from './components/adminhome/adminhome.component';\r\nimport { CouponComponent } from './components/coupon/coupon.component';\r\nimport { PagenotfoundComponent } from './components/pagenotfound/pagenotfound.component';\r\nimport { MinicouponComponent } from './components/minicoupon/minicoupon.component';\r\nimport { LoadingComponent } from './components/loading/loading.component';\r\nimport { CouponbycategoryComponent } from './components/couponbycategory/couponbycategory.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    NavbarComponent,\r\n    LoginComponent,\r\n    SignupComponent,\r\n    AllcompaniesComponent,\r\n    AllcustomersComponent,\r\n    AddcompanyComponent,\r\n    AddcustomerComponent,\r\n    MyprofileComponent,\r\n    CustomerprofileComponent,\r\n    CompanyprofileComponent,\r\n    AddcouponComponent,\r\n    CustomerhomeComponent,\r\n    CompanyhomeComponent,\r\n    AdminhomeComponent,\r\n    CouponComponent,\r\n    PagenotfoundComponent,\r\n    MinicouponComponent,\r\n    LoadingComponent,\r\n    CouponbycategoryComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule, \r\n    FormsModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatSnackBarModule,\r\n    MatDialogModule,\r\n    MatProgressSpinnerModule,\r\n    MatMenuModule,\r\n    MatTableModule,\r\n    MatSortModule,\r\n    MatPaginatorModule,\r\n    MatTabsModule,\r\n    MatDatepickerModule,\r\n    MatAutocompleteModule\r\n\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { Company } from 'src/app/models/company';\r\nimport { AdminService } from 'src/app/services/admin.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-addcompany',\r\n  templateUrl: './addcompany.component.html',\r\n  styleUrls: ['./addcompany.component.css']\r\n})\r\nexport class AddcompanyComponent implements OnInit {\r\n  visibility = \"visibility\";\r\n  type = \"password\";\r\n  title = \"Add Company\";\r\n  newCompany : FormGroup;\r\n  constructor(private fb : FormBuilder, private adminService : AdminService, \r\n              private snackBar : MatSnackBar, private dialog : MatDialogRef<AddcompanyComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public company : Company) { }\r\n\r\n  ngOnInit(): void {\r\n    this.newCompany = this.fb.group({\r\n      id: [{value:\"\",disabled:true},[]],\r\n      name: [\"\",[Validators.required]],\r\n      email: [\"\", [Validators.required,Validators.email]],\r\n      password: [\"\", [Validators.required]],\r\n      confirmp : [\"\",[Validators.required, this.validatePasswordsMatch]]\r\n    });\r\n    if(this.company){\r\n      this.newCompany.setValue({id : this.company._id,name: this.company._name, email: this.company._email,\r\n                                password: this.company._password,confirmp:this.company._password});\r\n      this.name.disable();\r\n      this.title = \"Update Company\";\r\n    }\r\n  }\r\n  saveCompany(){\r\n    if(this.company){\r\n      this.updateCompany();\r\n    }else{\r\n      this.addCompany()\r\n    }\r\n  }\r\n  deleteCompany(){\r\n    this.newCompany.disable();\r\n    this.adminService.deleteCompany(this.id.value).subscribe(\r\n      success => {\r\n        console.log(success)\r\n        const snackRef = this.snackBar.open(\"Company Deleted Successfuly!\",\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0){\r\n          errorMessage = \"oops, try again later\", \"dismiss\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        this.newCompany.enable()\r\n      }\r\n    )\r\n  }\r\n  addCompany(){\r\n    this.newCompany.disable();\r\n    const company : Company = new Company(0,this.name.value,this.email.value,this.password.value) ;\r\n    console.log(company);\r\n    this.adminService.addCompany(company).subscribe(\r\n      success =>{\r\n        const snackRef = this.snackBar.open(\"New Company Succesfully added!\",\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      }, error => {\r\n        console.log(error)\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0){\r\n          errorMessage = \"oops, try again later\", \"dismiss\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCompany.enable()\r\n        })\r\n\r\n      }\r\n    )\r\n  }\r\n  updateCompany(){\r\n    this.newCompany.disable();\r\n    const company : Company = new Company(this.id.value,this.name.value,this.email.value,this.password.value) ;\r\n    console.log(company);\r\n\r\n    this.adminService.updateCompany(company).subscribe(\r\n      success =>{\r\n        const snackRef = this.snackBar.open(\"Company Succesfully Updated!\",\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      }, error => {\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0){\r\n          errorMessage = \"oops, try again later\", \"dismiss\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n\r\n          this.newCompany.enable()\r\n        })\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  close(){\r\n    this.dialog.close();\r\n  }\r\n  validatePasswordsMatch(control : AbstractControl){\r\n    \r\n    const password : string = control.parent?.get(\"password\").value;\r\n    const confirmPassword : string = control.value;\r\n    if(password != confirmPassword){\r\n      return {passwordsMatchError : true}\r\n    }\r\n  }\r\n  showPassword(){\r\n    if(this.type == \"password\"){\r\n      this.type = \"text\";\r\n      this.visibility = \"visibility_off\"\r\n    }else{\r\n      this.type = \"password\";\r\n      this.visibility = \"visibility\";\r\n    }\r\n  }\r\n  get id(){\r\n    return this.newCompany.controls['id'];\r\n  }\r\n  get name(){\r\n    return this.newCompany.controls['name'];\r\n  }\r\n  get email(){\r\n    return this.newCompany.controls['email'];\r\n  }\r\n  get password(){\r\n    return this.newCompany.controls['password'];\r\n  }\r\n  get confirmp(){\r\n    return this.newCompany.controls['confirmp'];\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div >\r\n        <mat-toolbar color=\"accent\">\r\n            <h2>{{title}}</h2>\r\n            <span class=\"fill-toolbar\"></span>\r\n            <button mat-icon-button (click)=\"close()\"><mat-icon>cancel</mat-icon></button>\r\n        </mat-toolbar>\r\n        <form [formGroup]=\"newCompany\">\r\n            <mat-form-field *ngIf=\"company\">\r\n                <mat-label>ID</mat-label>\r\n                <input matInput formControlName=\"id\">\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput placeholder=\"Name\" formControlName=\"name\" />\r\n                <mat-error *ngIf=\"name.errors?.required\">Name is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Email</mat-label>\r\n                <input matInput type=\"email\" placeholder=\"e.g. Boba@Bola.com\" formControlName=\"email\" />\r\n                <mat-error *ngIf=\"email.errors?.required\">Email is required</mat-error>\r\n                <mat-error *ngIf=\"email.errors?.email\">Invalid email</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Password</mat-label>\r\n                <input matInput [type]=\"type\" placeholder=\"your password\" formControlName=\"password\" />\r\n                <button mat-icon-button matSuffix (click)=\"showPassword()\"><mat-icon>{{visibility}}</mat-icon></button>\r\n                <mat-error>Password is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Confirm Password</mat-label>\r\n                <input matInput [type]=\"type\" placeholder=\"confirm your password\" formControlName=\"confirmp\" />\r\n                <mat-error>Password is required</mat-error>\r\n                <mat-error *ngIf=\"confirmp.errors?.passwordsMatchError\">Passwords need to match</mat-error>\r\n\r\n            </mat-form-field>\r\n            \r\n            <button mat-raised-button [disabled]=\"!newCompany.valid\" (click)=\"saveCompany()\">{{title}}</button>\r\n            <button mat-raised-button (click)=\"deleteCompany()\" *ngIf=\"company\">Delete Company</button>\r\n        </form>\r\n    </div>\r\n    </div>","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { FormGroup, FormBuilder, Validators, AbstractControl } from '@angular/forms';\r\nimport { CompanyService } from 'src/app/services/company.service';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { Category } from 'src/app/models/category.enum';\r\nimport { Company } from 'src/app/models/company';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-addcoupon',\r\n  templateUrl: './addcoupon.component.html',\r\n  styleUrls: ['./addcoupon.component.css']\r\n})\r\nexport class AddcouponComponent implements OnInit {\r\n  header : string = \"Add Coupon\";\r\n  newCoupon : FormGroup;\r\n  disableDelete = false;\r\n  companyId : number;\r\n  possibleCategories = Object.values(Category).filter(category => isNaN(+category));\r\n  constructor(private dialog : MatDialogRef<AddcouponComponent>,\r\n              private companyService : CompanyService,\r\n              private fb : FormBuilder, private snackBar : MatSnackBar,\r\n              @Inject(MAT_DIALOG_DATA) public coupon : Coupon) { }\r\n\r\n  ngOnInit(): void {\r\n    this.companyService.getCompanyDetails().subscribe(\r\n      success => {\r\n        this.companyId = Company.getCompany(success)._id;\r\n      },\r\n      error =>{\r\n        console.log(error);\r\n      }\r\n    )\r\n    this.newCoupon = this.fb.group({\r\n      title: [\"\",[Validators.required]],\r\n      category: [\"\",[Validators.required]],\r\n      description: [\"\",[Validators.required]],\r\n      startDate: [\"\",[Validators.required,this.validateStartDate]],\r\n      endDate: [\"\",[Validators.required,this.validateEndDate]],\r\n      amount: [\"\",[Validators.required,Validators.min(1)]],\r\n      price: [\"\",[Validators.required,Validators.min(1)]],\r\n      image: [\"\",[Validators.required]]\r\n    });\r\n    if(this.coupon){\r\n      this.newCoupon.setValue({title: this.coupon._title,category: this.coupon._category,\r\n                              description: this.coupon._description,startDate:this.coupon._startDate,\r\n                              endDate:this.coupon._endDate,amount:this.coupon._originalAmount,price:this.coupon._price,\r\n                              image:this.coupon._image});\r\n      this.header = \"Update Coupon\";\r\n      for(let control in this.newCoupon.controls){\r\n        this.newCoupon.controls[control].markAsTouched();\r\n      }\r\n    }\r\n  }\r\n  validateStartDate(control : AbstractControl){\r\n    const startDate = new Date(control.value);\r\n    const today = new Date();\r\n    const endDate = control.parent?.get(\"endDate\");\r\n    if(endDate && endDate.touched){\r\n      endDate.updateValueAndValidity();\r\n    }\r\n    if(startDate.getTime() < today.getTime()){\r\n      return {invalidStartDate:true};\r\n    }\r\n  }\r\n  validateEndDate(control : AbstractControl){\r\n    const startDate = new Date(control.parent?.get(\"startDate\").value);\r\n    const endDate = new Date(control.value);\r\n    if(startDate.getTime() > endDate.getTime()){\r\n      return {invalidEndDate:true};\r\n    }\r\n  }\r\n  close(){\r\n    this.dialog.close()\r\n  }\r\n  saveCoupon(){\r\n    if(this.coupon){\r\n      this.updateCoupon();\r\n    }else{\r\n      this.addCoupon();\r\n    }\r\n  }\r\n  addCoupon(){\r\n    this.newCoupon.disable();\r\n    const category : Category = this.category.value;\r\n    const coupon : Coupon = new Coupon(0, this.companyId,this.category.value,this.title.value,\r\n                                        this.description.value,this.startDate.value,this.endDate.value,\r\n                                        this.amount.value,this.amount.value,this.price.value,this.image.value);\r\n    this.companyService.addCoupon(coupon).subscribe(\r\n      success => {\r\n        const snackRef = this.snackBar.open(\"New Coupon added successfully\",\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      },\r\n      error => {\r\n        let errorMessage : string = error.error;\r\n        if(error.status ==0 || error.status ==500){\r\n          errorMessage = \"Oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage,\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCoupon.enable();\r\n        })\r\n      }\r\n    )\r\n  }\r\n  updateCoupon(){\r\n    this.newCoupon.disable();\r\n    const coupon : Coupon = new Coupon(this.coupon._id, this.companyId,this.category.value,this.title.value,\r\n                                        this.description.value,this.startDate.value,this.endDate.value,\r\n                                        this.amount.value,this.amount.value,this.price.value,this.image.value);\r\n    this.companyService.updateCoupon(coupon).subscribe(\r\n      success => {\r\n        const snackRef = this.snackBar.open(\"Coupon updated successfully\",\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      },\r\n      error => {\r\n        let errorMessage : string = error.error;\r\n        if(error.status ==0 || error.status ==500){\r\n          errorMessage = \"Oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage,\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCoupon.enable();\r\n        })\r\n      }\r\n    )\r\n  }\r\n  deleteCoupon(){\r\n    this.newCoupon.disable();\r\n    this.disableDelete = true;\r\n    this.companyService.deleteCoupon(this.coupon._id).subscribe(\r\n      success => {\r\n        const snackRef = this.snackBar.open(success,\"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      },\r\n      error => {\r\n        let errorMessage = error.error;\r\n        if(error.status == 0 || error.status == 500){\r\n          errorMessage = \"Oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCoupon.enable();\r\n        })\r\n      }\r\n    )\r\n    \r\n  }\r\n  get id(){\r\n    return this.newCoupon.controls['id'];\r\n  }\r\n  get title(){\r\n    return this.newCoupon.controls['title'];\r\n  }\r\n  get description(){\r\n    return this.newCoupon.controls['description'];\r\n  }\r\n  get startDate(){\r\n    return this.newCoupon.controls['startDate'];\r\n  }\r\n  get endDate(){\r\n    return this.newCoupon.controls['endDate'];\r\n  }\r\n  get amount(){\r\n    return this.newCoupon.controls['amount'];\r\n  }\r\n  get price(){\r\n    return this.newCoupon.controls['price'];\r\n  }\r\n  get category(){\r\n    return this.newCoupon.controls['category'];\r\n  }\r\n  get image(){\r\n    return this.newCoupon.controls['image'];\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div>\r\n        <mat-toolbar color=\"accent\">\r\n            <h2>{{header}}</h2>\r\n            <span class=\"fill-toolbar\"></span>\r\n            <button mat-icon-button (click)=\"close()\">\r\n                <mat-icon>cancel</mat-icon>\r\n            </button>\r\n        </mat-toolbar>\r\n        <form [formGroup]=\"newCoupon\">\r\n\r\n            <mat-form-field>\r\n                <mat-label>Title</mat-label>\r\n                <input matInput placeholder=\"Title\" formControlName=\"title\" />\r\n                <mat-error>Title is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Category</mat-label>\r\n                <mat-select formControlName=\"category\">\r\n                    <mat-option *ngFor=\"let category of possibleCategories\" [value]=\"category\">\r\n                        {{category}}</mat-option>\r\n                </mat-select>\r\n                <mat-error>Category is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Description</mat-label>\r\n                <textarea matInput formControlName=\"description\"></textarea>\r\n\r\n                <mat-error>Description is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Start Date</mat-label>\r\n                <input matInput type=\"date\" (change)=\"validateEndDate(endDate)\" formControlName=\"startDate\" />\r\n\r\n                <mat-error *ngIf=\"startDate.errors?.required\">Start Date is required</mat-error>\r\n                <mat-error *ngIf=\"startDate.errors?.invalidStartDate\">Start Date must be in the future</mat-error>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field>\r\n                <mat-label>End Date</mat-label>\r\n                <input matInput type=\"date\" formControlName=\"endDate\" />\r\n                <mat-error *ngIf=\"endDate.errors?.required\">End Date is required</mat-error>\r\n                <mat-error *ngIf=\"endDate.errors?.invalidEndDate\">End Date must be after Start Date</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Amount</mat-label>\r\n                <input matInput type=\"number\" formControlName=\"amount\" />\r\n                <mat-error>Amount is required</mat-error>\r\n                <mat-error *ngIf=\"startDate.errors?.min\">Amount must be positive</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Price</mat-label>\r\n                <input matInput type=\"number\" formControlName=\"price\" />\r\n                <mat-error>Price is required</mat-error>\r\n                <mat-error *ngIf=\"startDate.errors?.min\">Price must be positive</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Image</mat-label>\r\n                <input matInput type=\"text\" formControlName=\"image\" />\r\n                <mat-error>Image is required</mat-error>\r\n            </mat-form-field>\r\n            <div class=\"actions\">\r\n                <button mat-raised-button [disabled]=\"!newCoupon.valid\" (click)=\"saveCoupon()\">{{header}}</button>\r\n                <button mat-raised-button [disabled]=\"disableDelete\" (click)=\"deleteCoupon()\" *ngIf=\"coupon\">Delete Coupon</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, AbstractControl } from '@angular/forms';\r\nimport { Admin } from 'src/app/models/admin';\r\nimport { AdminService } from 'src/app/services/admin.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Customer } from 'src/app/models/customer';\r\n\r\n@Component({\r\n  selector: 'app-addcustomer',\r\n  templateUrl: './addcustomer.component.html',\r\n  styleUrls: ['./addcustomer.component.css']\r\n})\r\nexport class AddcustomerComponent implements OnInit {\r\n  visibility = \"visibility\";\r\n  type = \"password\";\r\n  title = \"Add Customer\";\r\n  newCustomer : FormGroup;\r\n  constructor(private fb: FormBuilder, private adminService : AdminService,\r\n              private snackBar : MatSnackBar, private dialog : MatDialogRef<AddcustomerComponent>,\r\n              @Inject(MAT_DIALOG_DATA)public customer :Customer) { }\r\n\r\n  ngOnInit(): void {\r\n    this.newCustomer = this.fb.group({\r\n      id: [{value:\"\",disabled:true},[]],\r\n      fname : [\"\",[Validators.required]],\r\n      lname: [\"\",[Validators.required]],\r\n      email: [\"\",[Validators.required]],\r\n      password: [\"\",[Validators.required]],\r\n      confirmp: [\"\",[Validators.required, this.validatePasswordsMatch]]\r\n    })\r\n    if(this.customer){\r\n      this.newCustomer.setValue({id:this.customer._id,fname:this.customer._firstName,lname:this.customer._lastName,\r\n                                email: this.customer._email, password:this.customer._password,confirmp:this.customer._password});\r\n      this.title = \"Update Customer\";                          \r\n    }\r\n  }\r\n\r\n  validatePasswordsMatch(control : AbstractControl){\r\n    const password : string = control.parent?.get(\"password\").value;\r\n    const confirmPassword : string = control.value;\r\n    if(password != confirmPassword){\r\n      return {passwordMatchError: true};\r\n    }\r\n    \r\n  }\r\n  saveCustomer(){\r\n    if(this.customer){\r\n      this.updateCustomer();\r\n    }else{\r\n      this.addCustomer()\r\n    }\r\n  }\r\n  addCustomer(){\r\n    this.newCustomer.disable();\r\n    const customer : Customer = new Customer(0,this.fname.value,this.lname.value,this.email.value,this.password.value);\r\n    this.adminService.addCustomer(customer).subscribe(\r\n      success =>{\r\n        const snackRef = this.snackBar.open(\"New Customer added succesfully!\", \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      }, error =>{\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0 || error.status == 500){\r\n          errorMessage = \"oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCustomer.enable();\r\n        })\r\n      }\r\n    )\r\n  }\r\n  updateCustomer(){\r\n    this.newCustomer.disable();\r\n    const customer : Customer = new Customer(this.id.value,this.fname.value,this.lname.value,this.email.value,this.password.value);\r\n    this.adminService.updateCustomer(customer).subscribe(\r\n      success =>{\r\n        const snackRef = this.snackBar.open(\"Customer updated succesfully!\", \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      }, error =>{\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0 || error.status == 500){\r\n          errorMessage = \"oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCustomer.enable();\r\n        })\r\n      }\r\n    )\r\n  }\r\n  deleteCustomer(){\r\n    this.newCustomer.disable();\r\n    this.adminService.deleteCustomer(this.id.value).subscribe(\r\n      success =>{\r\n        const snackRef = this.snackBar.open(\"Customer deleted succesfully\", \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.close();\r\n        })\r\n      }, error =>{\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0 || error.status == 500){\r\n          errorMessage = \"oops, try again later\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe( ()=>{\r\n          this.newCustomer.enable();\r\n        })\r\n      }\r\n    )\r\n  }\r\n  showPassword(){\r\n    if(this.type == \"password\"){\r\n      this.type = \"text\";\r\n      this.visibility = \"visibility_off\";\r\n    }else{\r\n      this.type = \"password\";\r\n      this.visibility = \"visibility\";\r\n    }\r\n  }\r\n  close(){\r\n    this.dialog.close();\r\n  }\r\n  get id(){\r\n    return this.newCustomer.controls['id'];\r\n  }\r\n  get fname(){\r\n    return this.newCustomer.controls['fname'];\r\n  }\r\n  get lname(){\r\n    return this.newCustomer.controls['lname'];\r\n  }\r\n  get email(){\r\n    return this.newCustomer.controls['email'];\r\n  }\r\n  get password(){\r\n    return this.newCustomer.controls['password'];\r\n  }\r\n  get confirmp(){\r\n    return this.newCustomer.controls['confirmp'];\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div >\r\n        <mat-toolbar color=\"accent\">\r\n            <h2>{{title}}</h2>\r\n            <span class=\"fill-toolbar\"></span>\r\n            <button mat-icon-button (click)=\"close()\"><mat-icon>cancel</mat-icon></button>\r\n        </mat-toolbar>\r\n        <form [formGroup]=\"newCustomer\">\r\n            <mat-form-field *ngIf=\"customer\">\r\n                <mat-label>ID</mat-label>\r\n                <input matInput formControlName=\"id\">\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>First Name</mat-label>\r\n                <input matInput placeholder=\"First Name\" formControlName=\"fname\" />\r\n                <mat-error *ngIf=\"fname.errors?.required\">First Name is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Last Name</mat-label>\r\n                <input matInput placeholder=\"Last Name\" formControlName=\"lname\" />\r\n                <mat-error *ngIf=\"lname.errors?.required\">Last Name is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Email</mat-label>\r\n                <input matInput type=\"email\" placeholder=\"e.g. Boba@Bola.com\" formControlName=\"email\" />\r\n                <mat-error *ngIf=\"email.errors?.required\">Email is required</mat-error>\r\n                <mat-error *ngIf=\"email.errors?.email\">Invalid email</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Password</mat-label>\r\n                <input matInput [type]=\"type\" placeholder=\"your password\" formControlName=\"password\" />\r\n                <button mat-icon-button matSuffix (click)=\"showPassword()\"><mat-icon>{{visibility}}</mat-icon></button>\r\n                <mat-error>Password is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Confirm Password</mat-label>\r\n                <input matInput [type]=\"type\" placeholder=\"confirm your password\" formControlName=\"confirmp\" />\r\n                <mat-error>Password is required</mat-error>\r\n                <mat-error *ngIf=\"confirmp.errors?.passwordsMatchError\">Passwords need to match</mat-error>\r\n\r\n            </mat-form-field>\r\n            \r\n            <button mat-raised-button [disabled]=\"!newCustomer.valid\" (click)=\"saveCustomer()\">{{title}}</button>\r\n            <button mat-raised-button (click)=\"deleteCustomer()\" *ngIf=\"customer\">Delete Customer</button>\r\n        </form>\r\n    </div>\r\n    </div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-adminhome',\r\n  templateUrl: './adminhome.component.html',\r\n  styleUrls: ['./adminhome.component.css']\r\n})\r\nexport class AdminhomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>adminhome works!</p>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Company } from 'src/app/models/company';\r\nimport { AdminService } from 'src/app/services/admin.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { AddcompanyComponent } from '../addcompany/addcompany.component';\r\n\r\n@Component({\r\n  selector: 'app-allcompanies',\r\n  templateUrl: './allcompanies.component.html',\r\n  styleUrls: ['./allcompanies.component.css']\r\n})\r\nexport class AllcompaniesComponent implements OnInit {\r\n\r\n  companies : Company[];\r\n  dataSource;\r\n  search;\r\n  displayedColumns : string[] = [\"id\", \"name\", \"email\", \"password\", \"coupons\",\"actions\"];\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  @ViewChild(MatPaginator) paginator : MatPaginator;\r\n  constructor(private adminService : AdminService, private snackBar:MatSnackBar, private dialog : MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    this.adminService.getAllCompanies().subscribe(\r\n      success => {\r\n        const companies : Company[] = Company.getCompanies(success);\r\n        this.companies = companies;\r\n        console.log(this.companies);\r\n        this.dataSource = new MatTableDataSource(this.companies);\r\n        this.dataSource.sort = this.sort;\r\n        this.dataSource.paginator = this.paginator;\r\n      }, error => {\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0){\r\n          errorMessage = \"oops, try again later\";\r\n        }\r\n        this.snackBar.open(errorMessage,\"dismiss\");\r\n      }\r\n    )\r\n  }\r\n  showCompany(company){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    config.data = company;\r\n    const dialogRef = this.dialog.open(AddcompanyComponent,config);\r\n    dialogRef.afterClosed().subscribe( result =>{\r\n      this.ngOnInit();\r\n    })\r\n    \r\n  }\r\n  addCompany(){\r\n    let config: MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    const dialogRef = this.dialog.open(AddcompanyComponent,config);\r\n    dialogRef.afterClosed().subscribe( result =>{\r\n      this.ngOnInit();\r\n    })\r\n  }\r\n  filterSearch(){\r\n    this.dataSource.filter = this.search.trim().toLowerCase();\r\n  }\r\n  clearSearch(){\r\n    this.search = \"\";\r\n    this.filterSearch();\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"header\">\r\n        <h2>List of companies :</h2>\r\n        <h3 *ngIf=\"dataSource?.data\">{{dataSource.data.length}} companies</h3>\r\n    </div>\r\n    <section class=\"section\">\r\n        <button mat-raised-button (click)=\"addCompany()\">Add Company</button>\r\n        <mat-form-field>\r\n            <input matInput placeholder=\"search\" class=\"search\" [(ngModel)]=\"search\" (keyup)=\"filterSearch()\" />\r\n            <button mat-icon-button matSuffix *ngIf=\"search\" (click)=\"clearSearch()\">\r\n                <mat-icon>\r\n                    close\r\n                </mat-icon>\r\n            </button>\r\n        </mat-form-field>\r\n        \r\n        <mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\r\n            <ng-container matColumnDef=\"id\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._id}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"name\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Company Name</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._name}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"email\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Email</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._email}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"password\">\r\n                <mat-header-cell *matHeaderCellDef>Password</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._password}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"coupons\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Number of Coupons</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._coupons?.length || 0}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"actions\">\r\n                <mat-header-cell *matHeaderCellDef></mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button (click)=\"showCompany(element)\">\r\n                        <mat-icon>launch</mat-icon>\r\n                    </button>\r\n                </mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"loading\">\r\n                <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                    <mat-spinner color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n                </mat-footer-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"noData\">\r\n                <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                    No Companies to show!\r\n                </mat-footer-cell>\r\n            </ng-container>\r\n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\r\n            <mat-footer-row *matFooterRowDef=\"['loading']\" [ngClass]=\"{'hide':dataSource!=null}\"></mat-footer-row>\r\n            <mat-footer-row *matFooterRowDef=\"['noData']\"\r\n                [ngClass]=\"{'hide': !(dataSource !=null && dataSource.data.length == 0)}\"></mat-footer-row>\r\n        </mat-table>\r\n        <mat-paginator [pageSizeOptions]=\"[5,10,20,100]\" [pageSize]=\"10\"></mat-paginator>\r\n    </section>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Customer } from 'src/app/models/customer';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { AdminService } from 'src/app/services/admin.service';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { AddcustomerComponent } from '../addcustomer/addcustomer.component';\r\n\r\n@Component({\r\n  selector: 'app-allcustomers',\r\n  templateUrl: './allcustomers.component.html',\r\n  styleUrls: ['./allcustomers.component.css']\r\n})\r\nexport class AllcustomersComponent implements OnInit {\r\n  customers : Customer[];\r\n  dataSource ;\r\n  search ;\r\n  displayedColumns : string[] = [\"id\",\"firstName\",\"lastName\",\"email\",\"password\",\"coupons\",\"actions\"];\r\n  @ViewChild(MatSort) sort : MatSort;\r\n  @ViewChild(MatPaginator) paginator : MatPaginator;\r\n  constructor( private adminService : AdminService,\r\n               private snackBar : MatSnackBar, \r\n               private dialog : MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    this.adminService.getAllCustomers().subscribe(\r\n      success =>{\r\n        const customers : Customer[] = Customer.getCustomers(success);\r\n        this.customers = customers;\r\n    \r\n        this.dataSource = new MatTableDataSource(this.customers);\r\n        this.dataSource.sort = this.sort;\r\n        this.dataSource.paginator = this.paginator;\r\n      }, error =>{\r\n        let errorMessage : string = error.error;\r\n        if(error.status == 0 || error.status == 500){\r\n          errorMessage = \"oops, try again later\";\r\n        }\r\n        this.snackBar.open(errorMessage, \"dismiss\");\r\n      }\r\n    )\r\n  }\r\n  showCustomer(customer){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    config.data = customer;\r\n    const dialogRef = this.dialog.open(AddcustomerComponent,config);\r\n    dialogRef.afterClosed().subscribe( result => {\r\n      this.ngOnInit();\r\n    })\r\n  }\r\n  addCustomer(){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    const dialogRef = this.dialog.open(AddcustomerComponent,config);\r\n    dialogRef.afterClosed().subscribe( result => {\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n  filterSearch(){\r\n    this.dataSource.filter = this.search.trim().toLowerCase();\r\n  }\r\n  clearSearch(){\r\n    this.search = \"\";\r\n    this.filterSearch();\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"header\">\r\n        <h2>List of customers :</h2>\r\n        <h3 *ngIf=\"dataSource?.data\">{{dataSource.data.length}} customers</h3>\r\n    </div>\r\n    <section class=\"section\">\r\n        <button mat-raised-button (click)=\"addCustomer()\">Add Customer</button>\r\n        <mat-form-field>\r\n            <input matInput placeholder=\"search\" class=\"search\" [(ngModel)]=\"search\" (keyup)=\"filterSearch()\" />\r\n            <button mat-icon-button matSuffix *ngIf=\"search\" (click)=\"clearSearch()\">\r\n                <mat-icon>\r\n                    close\r\n                </mat-icon>\r\n            </button>\r\n        </mat-form-field>\r\n        \r\n        <mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\r\n            <ng-container matColumnDef=\"id\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._id}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"firstName\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>First Name</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._firstName}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"lastName\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._lastName}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"email\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Email</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._email}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"password\">\r\n                <mat-header-cell *matHeaderCellDef>Password</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._password}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"coupons\">\r\n                <mat-header-cell *matHeaderCellDef mat-sort-header>Number of Coupons</mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">{{element._coupons.length}}</mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"actions\">\r\n                <mat-header-cell *matHeaderCellDef></mat-header-cell>\r\n                <mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button (click)=\"showCustomer(element)\">\r\n                        <mat-icon>launch</mat-icon>\r\n                    </button>\r\n                </mat-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"loading\">\r\n                <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                    <mat-spinner color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n                </mat-footer-cell>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"noData\">\r\n                <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                    No Companies to show!\r\n                </mat-footer-cell>\r\n            </ng-container>\r\n            <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n            <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\r\n            <mat-footer-row *matFooterRowDef=\"['loading']\" [ngClass]=\"{'hide':dataSource!=null}\"></mat-footer-row>\r\n            <mat-footer-row *matFooterRowDef=\"['noData']\"\r\n                [ngClass]=\"{'hide': !(dataSource !=null && dataSource.data.length == 0)}\"></mat-footer-row>\r\n        </mat-table>\r\n        <mat-paginator [pageSizeOptions]=\"[5,10,20,100]\" [pageSize]=\"10\"></mat-paginator>\r\n    </section>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-companyhome',\r\n  templateUrl: './companyhome.component.html',\r\n  styleUrls: ['./companyhome.component.css']\r\n})\r\nexport class CompanyhomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>companyhome works!</p>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CompanyService } from 'src/app/services/company.service';\r\nimport { Company } from 'src/app/models/company';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialogConfig, MatDialog } from '@angular/material/dialog';\r\nimport { AddcouponComponent } from '../addcoupon/addcoupon.component';\r\nimport { Customer } from 'src/app/models/customer';\r\n\r\n@Component({\r\n  selector: 'app-companyprofile',\r\n  templateUrl: './companyprofile.component.html',\r\n  styleUrls: ['./companyprofile.component.css']\r\n})\r\nexport class CompanyprofileComponent implements OnInit {\r\n  company: Company;\r\n  coupons: Coupon[];\r\n  clients : Customer[];\r\n  search: string;\r\n  searchOption = \"Regular Search\";\r\n  dataSource;\r\n  displayedColumns: string[] = [\"image\", \"title\", \"category\",\"endDate\", \"amount\",\"price\",\"bought\", \"actions\"]\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  constructor(private companyService: CompanyService, private dialog : MatDialog,\r\n              ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.companyService.getCompanyDetails().subscribe(\r\n      success => {\r\n        this.company = Company.getCompany(success);\r\n        this.coupons = Coupon.getCoupons(this.company._coupons);\r\n        this.dataSource = new MatTableDataSource(this.coupons);\r\n        this.dataSource.filterPredicate = (data, filter) => {\r\n          if(this.searchOption == \"By Category\"){\r\n            return data._category.toString().toLowerCase().indexOf(filter) != -1;\r\n          }else if(this.searchOption == \"By Max Price\"){\r\n            return data._price <= +filter;\r\n          }else{\r\n            return this.displayedColumns.some( element => {\r\n              data[element].toString().toLowerCase().indexOf(filter) != -1;\r\n            })\r\n          }\r\n        }\r\n        this.dataSource.sort = this.sort;\r\n        this.dataSource.paginator = this.paginator;\r\n        this.companyService.getAllClients().subscribe(\r\n          success => {\r\n            this.clients = Customer.getCustomers(success);\r\n            \r\n          },\r\n          error =>{\r\n            console.log(error);\r\n          }\r\n        )\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n  createCoupon(){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    const dialogRef = this.dialog.open(AddcouponComponent, config);\r\n    dialogRef.afterClosed().subscribe( ()=>{\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n  editCoupon(coupon){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    config.data = coupon;\r\n    const dialogRef = this.dialog.open(AddcouponComponent, config);\r\n    dialogRef.afterClosed().subscribe( ()=>{\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n  filterSearch() {\r\n    this.dataSource.filter = this.search.trim().toLowerCase();\r\n  }\r\n  clearSearch() {\r\n    this.search = '';\r\n    this.filterSearch();\r\n  }\r\n  getAmountPurchases(coupon:Coupon){\r\n   \r\n    return this.clients?.filter( client => client._coupons.some( c=>c._id==coupon._id)).length;\r\n  }\r\n}\r\n","<div class=\"container mat-elevation-z9\">\r\n    <h1>My Profile</h1>\r\n    <mat-tab-group animationDuration=\"0ms\">\r\n        <mat-tab label=\"My Info\">\r\n            <section class=\"info\">\r\n                <mat-toolbar color=\"accent\">\r\n\r\n                    <div class=\"info-header\">\r\n                        Company Information:\r\n                    </div>\r\n                </mat-toolbar>\r\n                <div class=\"info-line\">\r\n                   <label>Name:</label> <span> {{company?._name}} </span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    <label>Email:</label> <span>{{company?._email}}</span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    <label>Password:</label> <span>{{company?._password}}</span>\r\n                </div>\r\n            </section>\r\n        </mat-tab>\r\n        <mat-tab label=\"Coupons\">\r\n            <button mat-raised-button class=\"create\" (click)=\"createCoupon()\">Add Coupon</button>\r\n            <mat-form-field class=\"search\">\r\n                <mat-label>\r\n                    Search\r\n                </mat-label>\r\n                <input matInput placeholder=\"Search a coupon\" [(ngModel)]=\"search\" (keyup)=\"filterSearch()\" />\r\n                <button mat-icon-button matSuffix (click)=\"clearSearch()\"><mat-icon>cancel</mat-icon></button>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Search by</mat-label>\r\n                <mat-select [(value)]=\"searchOption\">\r\n                    <mat-option value=\"Regular Search\">Regular Search</mat-option>\r\n                    <mat-option value=\"By Category\">By Category</mat-option>\r\n                    <mat-option value=\"By Max Price\">By Max Price</mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n            <mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\r\n                <ng-container matColumnDef=\"image\">\r\n                    <mat-header-cell *matHeaderCellDef>image</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">{{element._image}}</mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"title\">\r\n                    <mat-header-cell *matHeaderCellDef>description</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._title}}<br>\r\n                        {{element._description}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"category\">\r\n                    <mat-header-cell *matHeaderCellDef>Category</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._category}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"endDate\">\r\n                    <mat-header-cell *matHeaderCellDef>Valid through</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._startDate}} to {{element._endDate}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"amount\">\r\n                    <mat-header-cell *matHeaderCellDef>Amount </mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._amount}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"price\">\r\n                    <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._price}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"bought\">\r\n                    <mat-header-cell *matHeaderCellDef>Amount of purchases</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{getAmountPurchases(element)}}                        \r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"actions\">\r\n                    <mat-header-cell *matHeaderCellDef></mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        <button mat-icon-button (click)=\"editCoupon(element)\"><mat-icon>launch</mat-icon></button>\r\n                        \r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"loading\">\r\n                    <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                        <mat-spinner color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n                    </mat-footer-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"noData\">\r\n                    <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                        No Coupons to show!\r\n                    </mat-footer-cell>\r\n                </ng-container>\r\n                <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n                <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\r\n                <mat-footer-row *matFooterRowDef=\"['loading']\" [ngClass]=\"{'hide':dataSource!=null}\"></mat-footer-row>\r\n                <mat-footer-row *matFooterRowDef=\"['noData']\"\r\n                    [ngClass]=\"{'hide': !(dataSource !=null && dataSource.data.length == 0)}\"></mat-footer-row>\r\n            </mat-table>\r\n            <mat-paginator [pageSizeOptions]=\"[5,10,20,100]\" [pageSize]=\"5\"></mat-paginator>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n</div>","import { LoginService } from 'src/app/services/login.service';\r\nimport { Component, OnInit, AfterViewInit } from '@angular/core';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CouponService } from 'src/app/services/coupon.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { CustomerService } from 'src/app/services/customer.service';\r\nimport { Customer } from 'src/app/models/customer';\r\n\r\n@Component({\r\n  selector: 'app-coupon',\r\n  templateUrl: './coupon.component.html',\r\n  styleUrls: ['./coupon.component.css']\r\n})\r\n\r\nexport class CouponComponent implements OnInit {\r\n  coupon: Coupon;\r\n  couponId: number;\r\n  disableBuyButton = false;\r\n  otherCustomers: Customer[];\r\n  otherCustomersCoupons: Coupon[];\r\n  recentlyViewedCoupons: Coupon[]=[];\r\n  purchaseAmount: number;\r\n\r\n  countDown;\r\n  constructor(private activeRoute: ActivatedRoute, private customerService: CustomerService,\r\n    private dialog: MatDialog, private snackBar: MatSnackBar, private router: Router, private loginService : LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.couponId = this.activeRoute.snapshot.params['id'];\r\n    this.customerService.getCouponById(this.couponId).subscribe(\r\n      success => {\r\n        this.loginService.updateRecentlyViewed(this.couponId);\r\n        this.coupon = Coupon.getCoupon(success);\r\n        setInterval(() => {\r\n          this.countDown = this.remainingTime();\r\n        }, 1000);\r\n        this.customerService.getCustomersByCoupon(this.couponId).subscribe(\r\n          success => {\r\n            this.otherCustomers = Customer.getCustomers(success);\r\n            this.otherCustomersCoupons = this.otherCustomers.map(customer => customer._coupons).reduce((acc, curr) => acc.concat(curr));\r\n            this.otherCustomersCoupons = this.filterDuplicates(this.otherCustomersCoupons);\r\n            this.otherCustomersCoupons = this.otherCustomersCoupons.filter(coupon => this.sharedCoupon(this.otherCustomers, coupon)).sort(this.sortByBought).slice(0, 5);\r\n          },\r\n          error => {\r\n            console.log(error);\r\n          }\r\n        )\r\n      },\r\n      error => {\r\n        if (error.status == 400) {\r\n          this.router.navigateByUrl(\"/not-found\");\r\n        }\r\n      }\r\n    )\r\n    this.showRecentlyViewed();\r\n  }\r\n  showRecentlyViewed(){\r\n    let ids : number[] = this.loginService.getRecentlyViewed().map(id => +id);\r\n    ids.forEach( id => this.customerService.getCouponById(id).subscribe(\r\n      success => {\r\n        this.recentlyViewedCoupons.push( Coupon.getCoupon(success));\r\n      },error =>{\r\n        console.log(error);\r\n      }\r\n    ))\r\n    \r\n    \r\n  }\r\n  purchaseCoupon() {\r\n    this.disableBuyButton = true;\r\n    this.customerService.purchaseCoupon(this.coupon).subscribe(\r\n      success => {\r\n        const snackRef = this.snackBar.open(success, \"dismiss\");\r\n      },\r\n      error => {\r\n        let errorMessage: string = error.error;\r\n        if (error.status == 0 || error.status == 500) {\r\n          errorMessage = \"Oops, try again later!\";\r\n        }\r\n        const snackRef = this.snackBar.open(errorMessage, \"dismiss\");\r\n        snackRef.onAction().subscribe(() => {\r\n          this.disableBuyButton = false;\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  sharedCoupon(customers: Customer[], coupon: Coupon): boolean {\r\n    if (customers.every(customer => customer._coupons.some(coup => coup._id == coupon._id))) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  sortByBought(a: Coupon, b: Coupon) {\r\n    return b._bought - a._bought;\r\n  }\r\n  filterDuplicates(coupons: Coupon[]) {\r\n    let newCoupons: Coupon[] = new Array<Coupon>();\r\n    let newCouponsId: number[] = [];\r\n    for (let coupon of coupons) {\r\n      if (!newCouponsId.includes(coupon._id)) {\r\n        newCoupons.push(coupon);\r\n        newCouponsId.push(coupon._id);\r\n      }\r\n    }\r\n    return newCoupons;\r\n  }\r\n\r\n  limitedTime() {\r\n    const endDate: Date = new Date(this.coupon?._endDate);\r\n    const now: Date = new Date();\r\n    return endDate.getTime() - now.getTime() <= 1000 * 60 * 60 * 72;\r\n  }\r\n  remainingTime() {\r\n    const timeLeftMillis = new Date(this.coupon?._endDate).getTime() - (new Date()).getTime();\r\n    let timeLeftSeconds = Math.floor(timeLeftMillis / 1000).toString();\r\n    let timeLeftHours = Math.floor(+timeLeftSeconds / 3600).toString();\r\n    let timeLeftMinutes = Math.floor((+timeLeftSeconds - (+timeLeftHours * 3600)) / 60).toString();\r\n    timeLeftSeconds = Math.floor(+timeLeftSeconds - (+timeLeftHours * 3600) - (+timeLeftMinutes * 60)).toString();\r\n    timeLeftHours = timeLeftHours.length == 1 ? \"0\" + timeLeftHours : timeLeftHours;\r\n    timeLeftMinutes = timeLeftMinutes.length == 1 ? \"0\" + timeLeftMinutes : timeLeftMinutes;\r\n    timeLeftSeconds = timeLeftSeconds.length == 1 ? \"0\" + timeLeftSeconds : timeLeftSeconds;\r\n    return timeLeftHours + \":\" + timeLeftMinutes + \":\" + timeLeftSeconds;\r\n  }\r\n}\r\n\r\n","<div class=\"container mat-elevation-z8\">\r\n    <div class=\"loading\" *ngIf=\"!coupon\">\r\n        <mat-spinner color=\"accent\" diameter=\"200\"></mat-spinner>\r\n    </div>\r\n    <div class=\"coupon-page\" *ngIf=\"coupon\">\r\n        <div class=\"coupon-card\">\r\n\r\n            <img [src]=\"coupon?._image\" [alt]=\"coupon?._title\" />\r\n            <div class=\"info\">\r\n                <div class=\"info-content\">\r\n\r\n                    <h1>{{coupon?._title}}</h1>\r\n                    <h3>{{coupon?._description}}</h3>\r\n                    <p>This coupon expires on {{coupon?._endDate}}, hurry!</p>\r\n                    <p>only {{coupon?._price | currency:'ILS'}}</p>\r\n                    <button mat-raised-button color=\"accent\" [disabled]=\"disableBuyButton\"\r\n                        (click)=\"purchaseCoupon()\">Buy\r\n                        NOW!</button>\r\n                    <p>{{purchaseAmount}} other people bought this coupon </p>\r\n                    <p class=\"count-down\" *ngIf=\"limitedTime()\">\r\n                        ONLY {{ countDown }} HOURS LEFT! HURRY!\r\n                    </p>\r\n\r\n                </div>\r\n            </div>\r\n      \r\n        </div>\r\n        <hr>\r\n        <div class=\"additional\">\r\n            <p>People who bought {{coupon?._title}} Also enjoyed these:</p>\r\n            <div class=\"additional-coupons\">\r\n\r\n                <app-minicoupon *ngFor=\"let coupon of otherCustomersCoupons\" [boughtBy]=\"coupon._bought\"\r\n                    [coupon]=\"coupon\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <div class=\"additional\" *ngIf=\"recentlyViewedCoupons\">\r\n            <p>You were recently interested in these coupons:</p>\r\n            <div class=\"additional-coupons\">\r\n\r\n                <app-minicoupon *ngFor=\"let coupon of recentlyViewedCoupons\" [boughtBy]=\"coupon._bought\"\r\n                    [coupon]=\"coupon\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CustomerService } from 'src/app/services/customer.service';\r\nimport { Category } from 'src/app/models/category.enum';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { Customer } from 'src/app/models/customer';\r\n\r\n@Component({\r\n  selector: 'app-couponbycategory',\r\n  templateUrl: './couponbycategory.component.html',\r\n  styleUrls: ['./couponbycategory.component.css']\r\n})\r\nexport class CouponbycategoryComponent implements OnInit {\r\n  category : Category;\r\n  categoryName : string;\r\n  coupons : Suggestion[] = [];\r\n  constructor(private activeRoute : ActivatedRoute, private customerService : CustomerService) { }\r\n  toCategory(text) : Category{\r\n    return Category.Food;\r\n  }\r\n  ngOnInit(): void {\r\n    let elec : Category = (<any>Category)['Food'];\r\n    this.category = (<any>Category)[this.activeRoute.snapshot.params[\"category\"]];\r\n    this.categoryName = Category[this.category];\r\n    this.customerService.getAllCouponsByCategory(this.category).subscribe(\r\n      success =>{\r\n        let couponsTemp = Coupon.getCoupons(success);\r\n        \r\n        couponsTemp.forEach( coupon => {\r\n          this.customerService.getCustomersByCoupon(coupon._id).subscribe(\r\n            success => {\r\n              let customersTemp : Customer[] = Customer.getCustomers(success);\r\n              this.coupons.push({\"count\":customersTemp.length,\"coupon\":coupon});\r\n              this.coupons.sort( (a:Suggestion,b:Suggestion)=>b.count-a.count);\r\n            }\r\n          )\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\nclass Suggestion {\r\n  constructor(public count: number, public coupon: Coupon) { }\r\n\r\n}","<div class=\"container\">\r\n    <mat-toolbar color=\"accent\">\r\n        <h1>\r\n        {{categoryName}}\r\n     </h1>\r\n    </mat-toolbar>\r\n    <div class=\"category-coupons\">\r\n\r\n        <app-minicoupon *ngFor=\"let suggestion of coupons\" [coupon]=\"suggestion.coupon\" [boughtBy]=\"suggestion.count\"></app-minicoupon>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { CustomerService } from 'src/app/services/customer.service';\r\nimport { Customer } from 'src/app/models/customer';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { map, filter } from 'rxjs/operators';\r\nimport { Category } from 'src/app/models/category.enum';\r\n\r\n@Component({\r\n  selector: 'app-customerhome',\r\n  templateUrl: './customerhome.component.html',\r\n  styleUrls: ['./customerhome.component.css']\r\n})\r\nexport class CustomerhomeComponent implements OnInit {\r\n  coupons: Coupon[];\r\n  numbers: number[] = [1,2,3];\r\n  autoComplete : FormControl = new FormControl();\r\n  searchOption = \"All\";\r\n  categories : string[] = Object.keys(Category).filter( category => isNaN(+category) );\r\n  optionsB : Coupon[];\r\n  \r\n  limitedTimeCoupons: Coupon[] = [];\r\n  topPicksCoupons: Coupon[] = [];\r\n  topPicksQualifier = 2;\r\n  foodCoupons : Coupon[];\r\n  electricityCoupons : Coupon[];\r\n  fashionCoupons : Coupon[];\r\n  petsCoupons : Coupon[];\r\n  tourismCoupons : Coupon[];\r\n  furnitureCoupons : Coupon[]\r\n  spaCoupons : Coupon[];\r\n\r\n  constructor(private customerService: CustomerService) { }\r\n\r\n  display(coupon :Coupon) : string{\r\n    return coupon && coupon._title ? coupon._title : '';\r\n  }\r\n  clearSearch(){\r\n    this.autoComplete.setValue('');\r\n    this.optionsB = null;\r\n  }\r\n  \r\n \r\n  searchListener(){\r\n    if(this.autoComplete.value.length >=3)\r\n      this.optionsB = this.coupons.filter( coupon => this.autoComplete.value.length > 0 && coupon._title.toLowerCase().includes(this.autoComplete.value)).slice(0,6);\r\n    if(this.autoComplete.value.length == 0)\r\n      this.optionsB = null;\r\n\r\n  }\r\n  sortByBought(a : Coupon, b : Coupon){\r\n    return b._bought - a._bought;\r\n  }\r\n  sortByLimitedTime(a : Coupon, b:Coupon){\r\n    return (new Date(a._endDate)).getTime() - (new Date(b._endDate)).getTime()\r\n  }\r\n  ngOnInit(): void {\r\n    this.customerService.getAllCoupons().subscribe(\r\n      success => {\r\n        this.coupons = Coupon.getCoupons(success).sort(this.sortByBought);\r\n        \r\n        this.topPicksCoupons = this.coupons.slice(0,5);\r\n        this.electricityCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Electricity\" ).sort( this.sortByBought ).slice(0,5);\r\n        this.foodCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Food\" ).slice(0,5);\r\n        this.spaCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Spa\" ).slice(0,5);\r\n        this.petsCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Pets\" ).slice(0,5);\r\n        this.tourismCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Tourism\" ).slice(0,5);\r\n        this.furnitureCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Furniture\" ).slice(0,5);\r\n        this.fashionCoupons = this.coupons.filter( coupon => coupon._category.toString() == \"Fashion\" ).slice(0,5);\r\n\r\n        this.limitedTimeCoupons = this.coupons.filter(this.limitedTime).sort(this.sortByLimitedTime).slice(0,3);\r\n        \r\n      }, error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  limitedTime(coupon: Coupon) {\r\n    const endDate: Date = new Date(coupon._endDate);\r\n    const today: Date = new Date();\r\n    if (endDate.getTime() - today.getTime() <= 1000 * 60 * 60 * 72) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"overlay\" *ngIf=\"autoComplete.value\" (click)=\"clearSearch()\"></div>\r\n    <div>\r\n        <mat-toolbar color=\"accent\"><span class=\"categories\">\r\n            <a mat-button [routerLink]=\"['/category/',category]\" *ngFor=\"let category of categories\">{{category}}</a></span></mat-toolbar>\r\n        <div class=\"search-box\">\r\n            <mat-form-field class=\"search\" color=\"primary\">\r\n                <mat-label>Search coupon</mat-label>\r\n                <input type=\"search\" matInput (input)=\"searchListener()\" [formControl]=\"autoComplete\" />\r\n                <button mat-icon-button matSuffix *ngIf=\"autoComplete.value\" (click)=\"clearSearch()\">\r\n                    <mat-icon>cancel</mat-icon>\r\n                </button>\r\n            </mat-form-field>\r\n            <mat-form-field class=\"search-by\">\r\n                <mat-label>Search by</mat-label>\r\n                <mat-select [(value)]=\"searchOption\">\r\n                    <mat-option value=\"All\">All</mat-option>\r\n                    <mat-option *ngFor=\"let category of categories\" [value]=\"category\">{{category}}</mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n        <div class=\"search-coupons offers mat-elevation-z8\" *ngIf=\"autoComplete.value\">\r\n            <app-minicoupon *ngFor=\"let coupon of optionsB\" [coupon]=\"coupon\" [search]=\"true\">\r\n            </app-minicoupon>\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <br>\r\n    <br>\r\n    <div>\r\n\r\n        <div class=\"limited-time mat-elevation-z8\">\r\n            <h2>Limited Time Coupons - DONT MISS OUT</h2>\r\n            <div class=\"limited-time-coupons offers\">\r\n\r\n                <app-minicoupon *ngFor=\"let coupon of limitedTimeCoupons\" [coupon]=\"coupon\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"top-picks mat-elevation-z8\">\r\n            <h2>Customers Top Picks</h2>\r\n            <div class=\"top-picks-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of topPicksCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"elec mat-elevation-z8\">\r\n            <h2>Electricity</h2>\r\n            <div class=\"elec-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of electricityCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n    \r\n        <div class=\"fashion mat-elevation-z8\">\r\n            <h2>Fashion</h2>\r\n            <div class=\"fashion-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of fashionCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n        <div class=\"food mat-elevation-z8\">\r\n            <h2>Food</h2>\r\n            <div class=\"food-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of foodCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n        <div class=\"pets mat-elevation-z8\">\r\n            <h2>Pets</h2>\r\n            <div class=\"pets-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of petsCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n\r\n     \r\n        <div class=\"furniture mat-elevation-z8\">\r\n            <h2>Furniture</h2>\r\n            <div class=\"furniture-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of furnitureCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div>\r\n        <div class=\"spa mat-elevation-z8\">\r\n            <h2>Spa</h2>\r\n            <div class=\"spa-coupons offers\">\r\n                <app-minicoupon *ngFor=\"let coupon of spaCoupons\" [coupon]=\"coupon\"\r\n                    [boughtBy]=\"coupon._bought\"></app-minicoupon>\r\n            </div>\r\n        </div> <br>\r\n        Fashion\r\n        <br>\r\n        Pets\r\n        <br>\r\n        Tourism\r\n        <br>\r\n        Furniture\r\n        <br>\r\n        Spa\r\n        <br>\r\n        recently viewed\r\n    </div>\r\n\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Customer } from 'src/app/models/customer';\r\nimport { CustomerService } from 'src/app/services/customer.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-customerprofile',\r\n  templateUrl: './customerprofile.component.html',\r\n  styleUrls: ['./customerprofile.component.css']\r\n})\r\nexport class CustomerprofileComponent implements OnInit {\r\n  customer : Customer;\r\n  coupons: Coupon[];\r\n  search : string;\r\n  searchOption = \"Regular Search\";\r\n  dataSource;\r\n  displayedColumns : string[] = [\"image\",\"title\",\"endDate\",\"price\"]\r\n  @ViewChild(MatPaginator) paginator : MatPaginator;\r\n  @ViewChild(MatSort) sort : MatSort;\r\n  constructor(private customerService : CustomerService, private snackBar : MatSnackBar) { }\r\n\r\n  ngOnInit(): void {\r\n    this.customerService.getCustomerDetails().subscribe(\r\n      success =>{\r\n        this.customer = Customer.getCustomer(success);\r\n        this.coupons = Coupon.getCoupons(this.customer._coupons);\r\n        this.dataSource = new MatTableDataSource(this.coupons);\r\n        console.log(this.searchOption);\r\n        this.dataSource.filterPredicate = (data, filter) => {\r\n          if(this.searchOption == \"By Category\"){\r\n            return data._category.toString().toLowerCase().indexOf(filter) != -1;\r\n          }else if(this.searchOption == \"By Max Price\"){\r\n            return data._price <= +filter;\r\n          }else{\r\n            return this.displayedColumns.some( element =>{\r\n              data[element].toString().toLowerCase().indexOf(filter) != -1\r\n            });\r\n          }\r\n        }\r\n        this.dataSource.sort = this.sort;\r\n        this.dataSource.paginator = this.paginator;\r\n      },\r\n      error =>{\r\n        if(error.status != 401){\r\n          let errorMessage = error.error;\r\n          if(error.status == 0 || error.status == 500){\r\n            errorMessage = \"Oops, something went wrong\";\r\n          }\r\n          this.snackBar.open(errorMessage,null,{duration: 2000});\r\n        }\r\n      }\r\n    )\r\n  }\r\n    filterSearch(){\r\n      this.dataSource.filter = this.search.trim().toLowerCase();\r\n    }\r\n    clearSearch(){\r\n      this.search = '';\r\n      this.filterSearch();\r\n    }\r\n\r\n}\r\n","<div class=\"container mat-elevation-z9\">\r\n    <h1>My Profile</h1>\r\n    <mat-tab-group animationDuration=\"0ms\">\r\n        <mat-tab label=\"My Info\">\r\n            <section class=\"info\">\r\n                <mat-toolbar color=\"accent\">\r\n\r\n                    <div class=\"info-header\">\r\n                        Personal Information:\r\n                    </div>\r\n                </mat-toolbar>\r\n                <div class=\"info-line\">\r\n                   <label>Full Name:</label> <span> {{customer?._firstName}} &nbsp; {{customer?._lastName}}</span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    <label>Email:</label> <span>{{customer?._email}}</span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    <label>Password:</label> <span>{{customer?._password}}</span>\r\n                </div>\r\n            </section>\r\n        </mat-tab>\r\n        <mat-tab label=\"My Coupons\">\r\n            <mat-form-field class=\"search\">\r\n                <mat-label>\r\n                    Search\r\n                </mat-label>\r\n                <input matInput placeholder=\"Search a coupon\" [(ngModel)]=\"search\" (keyup)=\"filterSearch()\" />\r\n                <button mat-icon-button matSuffix *ngIf=\"search\" (click)=\"clearSearch()\"><mat-icon>cancel</mat-icon></button>\r\n            </mat-form-field>\r\n            &nbsp;\r\n            <mat-form-field>\r\n                <mat-label>Search by</mat-label>\r\n                <mat-select [(value)]=\"searchOption\">\r\n                    <mat-option value=\"Regular Search\">Regular Search</mat-option>\r\n                    <mat-option value=\"By Category\">By Category</mat-option>\r\n                    <mat-option value=\"By Max Price\">By Max Price</mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n            <mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\r\n                <ng-container matColumnDef=\"image\">\r\n                    <mat-header-cell *matHeaderCellDef>image</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        <img [src]=\"element._image\" [alt]=\"element._title\" width=\"90\" height=\"90\" [title]=\"element._title\" />\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"title\">\r\n                    <mat-header-cell *matHeaderCellDef colspan=\"2\">Title</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._title}} <br>\r\n                        {{element._description}} <br>\r\n                        {{element._category}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"endDate\">\r\n                    <mat-header-cell *matHeaderCellDef>Valid through</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._startDate}} &nbsp;to<br>\r\n                        {{element._endDate}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"price\">\r\n                    <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>\r\n                    <mat-cell *matCellDef=\"let element\">\r\n                        {{element._price | currency:'ILS'}}\r\n                    </mat-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"loading\">\r\n                    <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                        <mat-spinner color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n                    </mat-footer-cell>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"noData\">\r\n                    <mat-footer-cell *matFooterCellDef colspan=\"5\">\r\n                        No Coupons to show!\r\n                    </mat-footer-cell>\r\n                </ng-container>\r\n                <mat-header-row *matHeaderRowDef=\"displayedColumns\"></mat-header-row>\r\n                <mat-row *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\r\n                <mat-footer-row *matFooterRowDef=\"['loading']\" [ngClass]=\"{'hide':dataSource!=null}\"></mat-footer-row>\r\n                <mat-footer-row *matFooterRowDef=\"['noData']\"\r\n                    [ngClass]=\"{'hide': !(dataSource !=null && dataSource.data.length == 0)}\"></mat-footer-row>\r\n            </mat-table>\r\n            <mat-paginator [pageSizeOptions]=\"[5,10,20,100]\" [pageSize]=\"5\"></mat-paginator>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { LoginService } from 'src/app/services/login.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor(public loginService : LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <h1>Home</h1>\r\n    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Administrator'\">\r\n        <app-adminhome></app-adminhome>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Company'\">\r\n        <app-companyhome></app-companyhome>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Customer'\">\r\n        <app-customerhome></app-customerhome>\r\n    </ng-container>\r\n</div>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.css']\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n  \r\n  couponId;\r\n  constructor(private activeRoute : ActivatedRoute, private router : Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.couponId = this.activeRoute.snapshot.params[\"id\"];\r\n    this.router.navigateByUrl(\"/coupon/\"+this.couponId); \r\n  }\r\n\r\n}\r\n","<div class=\"container mat-elevation-z8\">\r\n    <mat-spinner color=\"accent\" [diameter]=\"60\"></mat-spinner>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ClientType } from 'src/app/services/client-type.enum';\r\nimport { LoginService } from 'src/app/services/login.service';\r\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm : FormGroup;\r\n  clientTypes = Object.keys(ClientType).filter( prop => isNaN(+prop));\r\n  visibility : string= \"visibility\";\r\n  type : string = \"password\";\r\n  constructor(private fb : FormBuilder, private loginService : LoginService, \r\n              private snackBar : MatSnackBar, private router : Router) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    this.loginForm = this.fb.group({\r\n      email : [\"\",[Validators.required,Validators.email]],\r\n      password : [\"\",[Validators.required]],\r\n      clientType: [\"\", [Validators.required]]\r\n    });\r\n\r\n  }\r\n  public login(){\r\n    this.loginService.login(this.email.value, this.password.value, this.clientType.value);\r\n  }\r\n  public showPassword(){\r\n    if(this.type == \"password\"){\r\n      this.type = \"text\";\r\n      this.visibility = \"visibility_off\";\r\n    }else{\r\n      this.type = \"password\";\r\n      this.visibility = \"visibility\";\r\n    }\r\n  }\r\n  get email(){\r\n    return this.loginForm.controls['email'];\r\n  }\r\n  get password(){\r\n    return this.loginForm.controls['password'];\r\n  }\r\n  get clientType(){\r\n    return this.loginForm.controls['clientType'];\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"form-card mat-elevation-z8\">\r\n        <mat-toolbar color=\"accent\">\r\n            <h2>Login</h2>\r\n        </mat-toolbar>\r\n        <form [formGroup]=\"loginForm\">\r\n            <mat-form-field>\r\n                <mat-label>Email</mat-label>\r\n                <input matInput type=\"email\" placeholder=\"e.g. John@gmail.com\" formControlName=\"email\" />\r\n                <mat-error *ngIf=\"email.errors?.required\">Email is required</mat-error>\r\n                <mat-error *ngIf=\"email.errors?.email\">Invalid email</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Password</mat-label>\r\n                <input matInput [type]=\"type\" placeholder=\"your password\" formControlName=\"password\" />\r\n                <button mat-icon-button matSuffix (click)=\"showPassword()\"><mat-icon>{{visibility}}</mat-icon></button>\r\n                <mat-error>Password is required</mat-error>\r\n            </mat-form-field>\r\n            <mat-form-field>\r\n                <mat-label>Client Type</mat-label>\r\n                <mat-select formControlName=\"clientType\">\r\n                    <mat-option *ngFor=\"let t of clientTypes\" [value]=\"t\">{{t}}</mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"clientType.errors?.required\">Client Type is required</mat-error>\r\n            </mat-form-field>\r\n            <button mat-raised-button [disabled]=\"!loginForm.valid\" (click)=\"login()\">Login</button>\r\n            <button mat-raised-button>forgot my password</button>\r\n        </form>\r\n    </div>\r\n    </div>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Coupon } from 'src/app/models/coupon';\r\nimport { CustomerService } from 'src/app/services/customer.service';\r\nimport { Customer } from 'src/app/models/customer';\r\nimport { Router } from '@angular/router';\r\nimport { CouponComponent } from '../coupon/coupon.component';\r\n\r\n@Component({\r\n  selector: 'app-minicoupon',\r\n  templateUrl: './minicoupon.component.html',\r\n  styleUrls: ['./minicoupon.component.css']\r\n})\r\nexport class MinicouponComponent implements OnInit {\r\n\r\n  @Input()\r\n  coupon : Coupon;\r\n  @Input()\r\n  boughtBy;\r\n  @Input()\r\n  search;\r\n  imgPlaceHolder= \"assets/product-placeholder.png\";\r\n  constructor(private customerService : CustomerService, private router : Router) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"ive been called \");\r\n    if(this.coupon){\r\n      this.imgPlaceHolder = this.coupon._image;\r\n    }\r\n    if(!this.boughtBy && this.coupon){\r\n      this.customerService.getCustomersByCoupon(this.coupon._id).subscribe(\r\n        success => {\r\n          this.boughtBy = Customer.getCustomers(success).length;\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div *ngIf=\"!coupon\">\r\n        <mat-spinner color=\"accent\" [diameter]=\"60\"></mat-spinner>\r\n    </div>\r\n    <div class=\"search\" *ngIf=\"search && coupon\">\r\n\r\n        <a [routerLink]=\"['/loading/',coupon._id]\">\r\n            <img [src]=\"imgPlaceHolder\" alt=\"\" />\r\n        </a>\r\n\r\n        {{coupon._title}}\r\n        <p>\r\n            {{coupon._description}}\r\n        </p>\r\n        {{boughtBy}} people bought this!\r\n\r\n    </div>\r\n    <div *ngIf=\"!search && coupon\">\r\n\r\n        <a [routerLink]=\"['/loading/',coupon._id]\">\r\n            <img [src]=\"imgPlaceHolder\" alt=\"\" />\r\n\r\n        </a>\r\n        <div class=\"coupon-info\">\r\n            {{coupon._title}}\r\n            <span class=\"price\">\r\n                {{coupon._price | currency:'ILS' }}\r\n            </span><br>\r\n            <a routerLink=\"\">{{coupon._category}}</a>\r\n            <span class=\"bought\">\r\n                {{boughtBy}} bought this\r\n\r\n            </span>\r\n        </div>\r\n    </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-myprofile',\r\n  templateUrl: './myprofile.component.html',\r\n  styleUrls: ['./myprofile.component.css']\r\n})\r\nexport class MyprofileComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"container mat-elevation-z9\">\r\n    <h1>My Profile</h1>\r\n    <mat-tab-group animationDuration=\"0ms\">\r\n        <mat-tab label=\"My Info\">\r\n            <section class=\"info\">\r\n                <mat-toolbar color=\"accent\">\r\n\r\n                    <div class=\"info-header\">\r\n                        Personal Information:\r\n                    </div>\r\n                </mat-toolbar>\r\n                <div class=\"info-line\">\r\n                   Name: <span> Jon doe</span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    Email: <span>Email</span>\r\n                </div>\r\n                <div class=\"info-line\">\r\n                    Password: <span>Password</span>\r\n                </div>\r\n            </section>\r\n        </mat-tab>\r\n        <mat-tab label=\"My Coupons\">\r\n            \r\n        </mat-tab>\r\n    </mat-tab-group>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoginService } from 'src/app/services/login.service';\r\nimport { ClientType } from 'src/app/services/client-type.enum';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { AddcompanyComponent } from '../addcompany/addcompany.component';\r\nimport { AddcustomerComponent } from '../addcustomer/addcustomer.component';\r\nimport { AddcouponComponent } from '../addcoupon/addcoupon.component';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n  \r\n  constructor(public router : Router, public loginService : LoginService, private dialog : MatDialog) { }\r\n\r\n  ngOnInit(): void {\r\n    const t : ClientType = ClientType.Administrator;\r\n    \r\n  }\r\n  createCompany(){\r\n    let config : MatDialogConfig  = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"40%\";\r\n    this.dialog.open(AddcompanyComponent, config);\r\n  }\r\n  createCustomer(){\r\n    let config : MatDialogConfig  = new MatDialogConfig();\r\n    config.position = {left:\"0px\",top:\"0px\"};\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"40%\";\r\n    this.dialog.open(AddcustomerComponent, config);\r\n  }\r\n  createCoupon(){\r\n    let config : MatDialogConfig = new MatDialogConfig();\r\n    config.autoFocus = true;\r\n    config.disableClose = true;\r\n    config.width = \"60%\";\r\n    this.dialog.open(AddcouponComponent, config);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <mat-toolbar color=\"primary\">\r\n        <span class=\"logo\" (click)=\"router.navigate(['/home'])\">\r\n            <img src='assets/logo2.png' alt='alt' />\r\n        </span>\r\n        <span>\r\n        {{loginService.authenticated}}\r\n    </span>&nbsp;<span> \r\n        {{loginService.clientType?.toString() || 'no client type'}}\r\n    </span>\r\n        <span class=\"fill-toolbar\"></span>\r\n        \r\n        <div class=\"actions\">\r\n            <mat-spinner color=\"accent\" *ngIf=\"!loginService.authenticated; else logout\" [diameter]=\"30\"></mat-spinner>\r\n            <ng-template #logout>\r\n                \r\n                <button mat-raised-button *ngIf=\"loginService.authenticated == 1\" routerLink=\"login\">Login</button>\r\n                <button mat-icon-button *ngIf=\"loginService.authenticated == 2\" [matMenuTriggerFor]=\"myMenu\" ><mat-icon>account_circle</mat-icon></button>\r\n                <mat-menu #myMenu=\"matMenu\">\r\n                    \r\n                    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Administrator'\">\r\n                        <button mat-menu-item (click)=\"createCompany()\">New Company</button>\r\n                        <button mat-menu-item routerLink=\"all-companies\">All Companies</button>\r\n                        <button mat-menu-item (click)=\"createCustomer()\">New Customer</button>\r\n                        <button mat-menu-item routerLink=\"all-customers\">All Customers</button>\r\n                    </ng-container>\r\n                    \r\n                    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Company'\">\r\n                        <button mat-menu-item routerLink=\"company-profile\">My Profile</button>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"loginService.clientType?.toString() == 'Customer'\">\r\n                        <button mat-menu-item routerLink=\"customer-profile\">My Profile</button>\r\n                    </ng-container>\r\n                    <button mat-menu-item (click)=\"loginService.logout()\">Logout</button>\r\n                    \r\n\r\n                </mat-menu>\r\n            </ng-template>\r\n\r\n        </div>\r\n    </mat-toolbar>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pagenotfound',\r\n  templateUrl: './pagenotfound.component.html',\r\n  styleUrls: ['./pagenotfound.component.css']\r\n})\r\nexport class PagenotfoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>pagenotfound works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-signup',\r\n  templateUrl: './signup.component.html',\r\n  styleUrls: ['./signup.component.css']\r\n})\r\nexport class SignupComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","export enum Category {\r\n    Food, Electricity, Vacation, Fashion, Pets, Tourism, Furniture, Spa\r\n   \r\n}\r\n","import { Coupon } from './coupon';\r\n\r\nexport class Company {\r\n    constructor(private id : number,\r\n                private name : string,\r\n                private email : string,\r\n                private password : string,\r\n                private coupons? : Coupon[]\r\n        ){}\r\n    get _id() : number{\r\n        return this.id;\r\n    }\r\n    set _id(id : number){\r\n        this.id = id;\r\n    }\r\n    get _name() : string{\r\n        return this.name;\r\n    }\r\n    set _name(name :string){\r\n        this.name = name;\r\n    }\r\n    get _email() : string{\r\n        return this.email;\r\n    }\r\n    set _email(email : string){\r\n        this.email = email;\r\n    }\r\n    get _password() : string{\r\n        return this.password;\r\n    }\r\n    set _password(password : string) {\r\n        this.password = password;\r\n    }\r\n    get _coupons(): Coupon[]{\r\n        let coupons : Coupon[] = new Array<Coupon>();\r\n        if(this.coupons)\r\n            coupons = this.coupons;\r\n        return coupons;\r\n\r\n    }\r\n    public static getCompany(obj : Company) : Company{\r\n        let company : Company = new Company(0,\"\",\"\",\"\",[]);\r\n        return Object.assign(company,obj);\r\n    }\r\n    public static getCompanies(obj : Company[]) : Company[]{\r\n        let companies : Company[] = new Array<Company>();\r\n        for(let c of obj){\r\n            companies.push(this.getCompany(c));\r\n        }\r\n        return companies;\r\n    }\r\n}\r\n","import { Category } from './category.enum';\r\n\r\nexport class Coupon {\r\n    private bought : number;\r\n    constructor( private id : number,\r\n                 private companyId : number,\r\n                 private category : Category,\r\n                 private title : string,\r\n                 private description : string,\r\n                 private startDate : Date,\r\n                 private endDate : Date,\r\n                 private originalAmount :  number,\r\n                 private currentAmount : number,\r\n                 private price : number,\r\n                 private image : string\r\n        ){\r\n            this.bought = originalAmount - currentAmount;\r\n        }\r\n    get _id() : number{\r\n        return this.id;\r\n    }\r\n    set _id(id : number) {\r\n        this.id = id;\r\n    }\r\n    get _category(){\r\n        return this.category;\r\n    }\r\n    set _category(category : Category){\r\n        this.category = category;\r\n    }\r\n    get _companyId() : number{\r\n        return this.companyId;\r\n    }\r\n    set _companyId(companyId : number) {\r\n        this.companyId = companyId;\r\n    }\r\n\r\n    get _title() : string{\r\n        return this.title;\r\n    }\r\n    set _title(title : string){\r\n        this.title = title;\r\n    }\r\n    get _description() : string {\r\n        return this.description;\r\n    }\r\n    set _description(description : string){\r\n        this.description = description;\r\n    }\r\n    get _startDate() : Date{\r\n        return this.startDate;\r\n    }\r\n    set _startDate(startDate : Date){\r\n        this.startDate = startDate;\r\n    }\r\n    get _endDate() : Date{\r\n        return this.endDate;\r\n    }\r\n    set _endDate(endDate : Date){\r\n        this.endDate = endDate;\r\n    }\r\n    get _originalAmount() : number{\r\n        return this.originalAmount;\r\n    }\r\n    set _originalAmount(originalAmount : number) {\r\n        this.originalAmount = originalAmount;\r\n    }\r\n    get _currentAmount() : number{\r\n        return this.currentAmount;\r\n    }\r\n    set _currentAmount(currentAmount : number){\r\n        this.currentAmount = currentAmount;\r\n    }\r\n    get _bought() : number{\r\n        return this.bought;\r\n    }\r\n    get _price() : number{\r\n        return this.price;\r\n    }\r\n    set _price(price : number){\r\n        this.price = price;\r\n    }\r\n    get _image() : string{\r\n        return this.image;\r\n    }\r\n    set _image(image :string){\r\n        this.image = image;\r\n    }\r\n    public static getCoupon(obj : Coupon){\r\n        let coupon : Coupon = new Coupon(obj.id,obj.companyId,obj.category,obj.title,\r\n                                         obj.description,obj.startDate,obj.endDate,\r\n                                         obj.originalAmount,obj.currentAmount,obj.price,obj.image);\r\n\r\n        return coupon;\r\n    }\r\n    public static getCoupons(obj : Coupon[]){\r\n        let coupons : Coupon[] = new Array<Coupon>();\r\n        for(let c of obj){\r\n            coupons.push(this.getCoupon(c));\r\n        }\r\n        return coupons;\r\n    }\r\n\r\n}\r\n","import { Coupon } from './coupon';\r\n\r\nexport class Customer {\r\n    constructor( private id : number,\r\n                 private firstName : string,\r\n                 private lastName : string,\r\n                 private email : string,\r\n                 private password : string,\r\n                 private coupons? : Coupon[]\r\n        ){}\r\n\r\n    get _id() : number{\r\n        return this.id;\r\n    }\r\n    set _id(id : number){\r\n        this.id = id;\r\n    }\r\n    get _firstName() : string {\r\n        return this.firstName;\r\n    }\r\n    set _firstName(firstName : string){\r\n        this.firstName = firstName;\r\n    }\r\n    get _lastName() : string{\r\n        return this.lastName;\r\n    }\r\n    set _lastName(lastName : string){\r\n        this.lastName = lastName;\r\n    }\r\n    get _email() : string{\r\n        return this.email;\r\n    }\r\n    set _email(email : string){\r\n        this.email = email;\r\n    }\r\n    get _password() : string{\r\n        return this.password;\r\n    }\r\n    set _password(password : string){\r\n        this.password = password;\r\n    }\r\n    get _coupons() : Coupon[]{\r\n        let coupons : Coupon[] = new Array<Coupon>();\r\n        if(this.coupons)\r\n            coupons = this.coupons;\r\n        return coupons;\r\n    }\r\n    set _coupons(coupons : Coupon[]){\r\n        this.coupons = coupons;\r\n    }\r\n\r\n    public static getCustomer(obj : Customer){\r\n        let customer : Customer = new Customer(obj.id,obj.firstName,obj.lastName,obj.email,obj.password,[]);\r\n        customer._coupons = Coupon.getCoupons(obj.coupons);\r\n        return customer;\r\n    }\r\n    public static getCustomers(obj : Customer[]){\r\n        let customers : Customer[] = new Array<Customer>();\r\n        for(let c of obj){\r\n            customers.push(this.getCustomer(c))\r\n        }\r\n        return customers;\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Company } from '../models/company';\r\nimport { LoginService } from './login.service';\r\nimport { Observable } from 'rxjs';\r\nimport { Customer } from '../models/customer';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdminService {\r\n  path = \"http://localhost:8080/admin\"\r\n  constructor(private client : HttpClient, private loginService : LoginService) { }\r\n  public addCompany( company : Company){\r\n    const path : string = this.path + \"/add-company/\" + this.loginService.token;\r\n    return this.client.post(path, company);\r\n  }\r\n  public updateCompany( company : Company){\r\n    const path : string = this.path + \"/update-company/\" + this.loginService.token;\r\n    return this.client.post(path, company);\r\n  }\r\n  public deleteCompany( id: number ){\r\n    let path : string = this.path + \"/delete-company/\" + this.loginService.token;\r\n    path += \"/\"+id;\r\n    return this.client.delete(path,{responseType:\"text\"});\r\n  }\r\n\r\n  public getAllCompanies() : Observable<Company[]>{\r\n    const path : string = this.path + \"/get-all-companies/\" + this.loginService.token;\r\n    return this.client.get<Company[]>(path);\r\n  }\r\n  public addCustomer( customer : Customer){\r\n    const path : string = this.path + \"/add-customer/\" + this.loginService.token;\r\n    return this.client.post(path, customer);\r\n  }\r\n  public updateCustomer( customer : Customer){\r\n    const path : string = this.path + \"/update-customer/\" + this.loginService.token;\r\n    return this.client.post(path, customer);\r\n  }\r\n  public deleteCustomer( id: number ){\r\n    let path : string = this.path + \"/delete-customer/\" + this.loginService.token;\r\n    path += \"/\"+id;\r\n    return this.client.delete(path,{responseType:\"text\"});\r\n  }\r\n\r\n  public getAllCustomers() : Observable<Customer[]>{\r\n    const path : string = this.path + \"/get-all-customers/\" + this.loginService.token;\r\n    return this.client.get<Customer[]>(path);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { Category } from '../models/category.enum';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CategoryGuard implements CanActivate {\r\n  constructor(private router : Router){}\r\n  canActivate(\r\n    next: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    let enteredCategory = next.params['category'];\r\n    let validCategories : string[] = Object.keys(Category).filter(category=>isNaN(+category));\r\n    if(!validCategories.includes(enteredCategory)){\r\n      this.router.navigateByUrl(\"/not-found\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  \r\n}\r\n","export enum ClientType {\r\n    Administrator=\"Administrator\", Company=\"Company\", Customer=\"Customer\"\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LoginService } from './login.service';\r\nimport { Company } from '../models/company';\r\nimport { Coupon } from '../models/coupon';\r\nimport { Customer } from '../models/customer';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CompanyService {\r\n  path = \"http://localhost:8080/company\"\r\n  constructor(private client : HttpClient, private loginService : LoginService) { }\r\n  public getCompanyDetails() {\r\n    const path : string = this.path + \"/company-details/\" + this.loginService.token;\r\n    return this.client.get<Company>(path);\r\n  }\r\n  public addCoupon(coupon : Coupon){\r\n    const path = this.path + \"/add-coupon/\" + this.loginService.token;\r\n    return this.client.post<Coupon>(path, coupon);\r\n  }\r\n  public updateCoupon(coupon : Coupon){\r\n    const path = this.path + \"/update-coupon/\" + this.loginService.token;\r\n    return this.client.post<Coupon>(path, coupon);\r\n  }\r\n  public deleteCoupon(id : number){\r\n    let path = this.path + \"/delete-coupon/\" + this.loginService.token;\r\n    path += \"/\"+id;\r\n    return this.client.delete(path,{responseType:\"text\"});\r\n  }\r\n  public getAllClients(){\r\n    const path = this.path + \"/all-clients/\" + this.loginService.token;\r\n    return this.client.get<Customer[]>(path);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LoginService } from './login.service';\r\nimport { Customer } from '../models/customer';\r\nimport { Coupon } from '../models/coupon';\r\nimport { Category } from '../models/category.enum';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CustomerService {\r\n  path = \"http://localhost:8080/customer\"\r\n  constructor(private client : HttpClient, private loginService : LoginService) { }\r\n  public getCustomerDetails(){\r\n    const path : string = this.path + \"/customer-details/\" + this.loginService.token;\r\n    return this.client.get<Customer>(path);\r\n  }\r\n\r\n  public getCouponById(id : number){\r\n    let path = this.path + \"/coupon-by-id/\" + this.loginService.token;\r\n    path += \"/\" + id;\r\n    return this.client.get<Coupon>(path);\r\n  }\r\n  public getCustomersByCoupon(id : number){\r\n    let path = this.path + \"/customers-by-coupon/\" + this.loginService.token;\r\n    path += \"/\" + id;\r\n    return this.client.get<Customer[]>(path);\r\n  }\r\n  public getAllCoupons(){\r\n    let path = this.path + \"/all-coupons/\" + this.loginService.token;\r\n    return this.client.get<Coupon[]>(path);\r\n  }\r\n  public getAllCouponsByCategory(category : Category){\r\n    let path = this.path + \"/coupons-by-category/\" + this.loginService.token;\r\n    return this.client.post<Coupon[]>(path, category);\r\n  }\r\n  public purchaseCoupon(coupon : Coupon){\r\n    let path = this.path + \"/purchase-coupon/\" + this.loginService.token;\r\n    return this.client.post(path, coupon, {responseType: \"text\"});\r\n  }\r\n}\r\n","import { Coupon } from 'src/app/models/coupon';\r\nimport { Injectable } from '@angular/core';\r\nimport {  HttpClient } from '@angular/common/http';\r\nimport { ClientType } from './client-type.enum';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { Customer } from '../models/customer';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n  path = \"http://localhost:8080/login\";\r\n  authenticated = 0;\r\n  clientType : string;\r\n  recentlyViewdIds: Set<number> = new Set();\r\n  constructor(private client : HttpClient, private snackBar : MatSnackBar, private router : Router) {\r\n    \r\n    this.loggedin();\r\n    this.recentlyViewdIds = new Set(JSON.parse(localStorage.getItem(\"last-viewed\")));\r\n   }\r\n  get token() : string{\r\n    return sessionStorage.getItem(\"token\") || \"guest\";\r\n  }\r\n  saveRecentlyViewed(){\r\n\r\n    localStorage.setItem(\"last-viewed\",JSON.stringify([...this.recentlyViewdIds]))\r\n  }\r\n  updateRecentlyViewed(id:number){\r\n    if(this.recentlyViewdIds.size >=5){\r\n      let temp = [...this.recentlyViewdIds];\r\n      temp.shift();\r\n      this.recentlyViewdIds = new Set( temp);\r\n    }\r\n    this.recentlyViewdIds.add(id);\r\n    this.saveRecentlyViewed();\r\n  }\r\n  getRecentlyViewed() {\r\n    return JSON.parse(localStorage.getItem(\"last-viewed\"));\r\n  }\r\n  public login(email : string, password : string,clientType :  ClientType){\r\n    const path = this.path +\"/\"+ email +\"/\"+password+\"/\"+clientType;\r\n    \r\n    this.client.post(path, null,{responseType:\"text\"}).subscribe(\r\n      success =>{\r\n        this.snackBar.open(\"Login successfull\",null, {duration : 3000});\r\n        this.authenticated = 2;\r\n        this.clientType = clientType.toString();\r\n        sessionStorage.setItem(\"token\",success)\r\n        this.router.navigateByUrl(\"/home\");\r\n        \r\n      },\r\n      error=>{\r\n        let errorMessage = error.status == 0 ? \"Oops, Please try again later\" : error.error;\r\n      \r\n        this.snackBar.open(errorMessage, \"dismiss\");\r\n      }\r\n    );\r\n  }\r\n  public logout() {\r\n    this.client.post(this.path + \"/logout/\" + sessionStorage.getItem(\"token\"), null, {responseType:\"text\"}).subscribe(\r\n      success => {\r\n        this.snackBar.open(success, null, {duration: 3000});\r\n        sessionStorage.setItem(\"token\",\"null\");\r\n        this.authenticated = 1;\r\n        this.clientType = null;\r\n        this.router.navigateByUrl(\"login\");\r\n      }, error =>{\r\n        let errorMessage = error.status == 0 ? \"Oops, try again later\" : error.error;\r\n        this.snackBar.open(errorMessage, \"dismiss\");\r\n      }\r\n    )\r\n  }\r\n  public loggedin(){\r\n    const token : string = sessionStorage.getItem(\"token\") || \"null\";\r\n    const path = this.path + \"/loggedin/\" + token;\r\n    \r\n    this.client.post(path, null).subscribe(\r\n      success => {\r\n        if(typeof success == 'object'){\r\n          if(success.hasOwnProperty('firstName')){\r\n            this.clientType = \"Customer\";\r\n          }else{\r\n            this.clientType = \"Company\";\r\n          }\r\n        }else{\r\n          this.clientType = \"Administrator\";\r\n        }\r\n        this.authenticated = 2;\r\n        \r\n       \r\n      }, \r\n      error => {\r\n        \r\n        this.authenticated = 1;\r\n        this.router.navigateByUrl(\"/login\");\r\n        \r\n        sessionStorage.setItem(\"token\",\"guest\");\r\n      }\r\n    );\r\n  }\r\n  \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\r\nimport { LoginService } from './login.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginguardService implements CanActivate{\r\n\r\n  constructor(private loginService : LoginService, private router :Router) { }\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | import(\"@angular/router\").UrlTree | import(\"rxjs\").Observable<boolean | import(\"@angular/router\").UrlTree> | Promise<boolean | import(\"@angular/router\").UrlTree> {\r\n    \r\n    const token = sessionStorage.getItem(\"token\") || \"guest\";\r\n    this.loginService.loggedin();\r\n    if(token == \"guest\" ){\r\n      this.router.navigateByUrl(\"/login\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}